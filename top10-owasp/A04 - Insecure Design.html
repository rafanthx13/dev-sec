<!DOCTYPE html>
<html>
<head>
<title>A04 - Insecure Design.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="a04---insecure-design">A04 - Insecure Design</h1>
<h2 id="resumo">Resumo</h2>
<p>Nem mesmo √© um eror, √© uma falha, uma falta de cuidado com decis√µes grosseieros sem se preocupar com design ou arquitetura de sistema</p>
<h2 id="links">Links</h2>
<p>Leia mais os linsk a seguir</p>
<ul>
<li>https://brackish.io/2023/09/25/owasp-top-ten-insecure-design/</li>
<li>https://blog.codacy.com/insecure-design-owasp-top-1</li>
<li>https://codelivly.com/insecure-design/</li>
</ul>
<h2 id="outros">Outros</h2>
<h3 id="best-practices-for-secure-design">Best Practices for Secure Design</h3>
<p>Link: https://brackish.io/2023/09/25/owasp-top-ten-insecure-design/</p>
<ul>
<li>Least Privilege Access: Design your system so that users and components have only the minimum levels of access ‚Äî or permissions ‚Äî they need to accomplish their tasks.</li>
<li>Regular Audits: Implement a robust auditing and monitoring system to detect any unauthorized access or anomalies.
Incorporate Security Early: Make security a part of the Software Development Life Cycle (SDLC), not just an afterthought. Perform threat modelling and design review early and often.</li>
<li>Penetration Testing: Regular penetration tests will help you identify vulnerabilities.</li>
</ul>
<h2 id="owasp">Owasp</h2>
<h2 id="vis%C3%A3o-geral">Vis√£o Geral</h2>
<p>Uma nova categoria para 2021 concentra-se nos riscos relacionados a falhas de design e arquitetura, com uma chamada para mais uso de modelagem de amea√ßas (<em>threat modeling</em>), padr√µes de design seguros e arquiteturas de refer√™ncia. Como uma comunidade, precisamos ir al√©m de &quot;<em>shift-left</em>&quot; no espa√ßo de codifica√ß√£o para atividades antes da codifica√ß√£o que s√£o cr√≠ticas para os princ√≠pios de  <em>Secure by Design</em>.</p>
<ul>
<li>Not√°veis Common Weakness Enumerations (CWEs) inclu√≠das s√£o  <em>CWE-209: Gera√ß√£o de Mensagem de Erro Contendo Informa√ß√µes Confidenciais</em>,  <em>CWE-256: Armazenamento Desprotegido de Credenciais</em>,  <em>CWE-501: Viola√ß√£o de Limites de Confian√ßa</em>  e  <em>CWE-522: Credenciais Insuficientemente Protegidas</em>.</li>
</ul>
<h2 id="descri%C3%A7%C3%A3o">Descri√ß√£o</h2>
<p>O design inseguro √© uma categoria ampla que representa diferentes pontos fracos, expressos como &quot;design de controle ausente ou ineficaz&quot;. O design inseguro n√£o √© a fonte de todas as outras 10 categorias principais de risco de seguran√ßa. H√° uma diferen√ßa entre design inseguro e implementa√ß√£o insegura. N√≥s diferenciamos entre falhas de design e defeitos de implementa√ß√£o por um motivo, eles t√™m diferentes causas ra√≠zes e remedia√ß√£o. Um design seguro ainda pode ter defeitos de implementa√ß√£o que levam a vulnerabilidades que podem ser exploradas. Um design inseguro n√£o pode ser corrigido por uma implementa√ß√£o perfeita, pois, por defini√ß√£o, os controles de seguran√ßa necess√°rios nunca foram criados para a defesa contra ataques espec√≠ficos. Um dos fatores que contribuem para um design inseguro √© a falta de perfis de risco de neg√≥cios inerentes ao software ou sistema que est√° sendo desenvolvido e, portanto, a falha em determinar o n√≠vel de design de seguran√ßa necess√°rio.</p>
<h3 id="gerenciamento-de-requisitos-e-recursos">Gerenciamento de Requisitos e Recursos</h3>
<p>Colete e negocie os requisitos de neg√≥cios para uma aplica√ß√£o com a empresa, incluindo os requisitos de prote√ß√£o relativos √† confidencialidade, integridade, disponibilidade e autenticidade de todos os ativos de dados e a l√≥gica de neg√≥cios esperada. Leve em considera√ß√£o a exposi√ß√£o da sua aplica√ß√£o e se voc√™ precisa de segrega√ß√£o de tenants (al√©m do controle de acesso). Compile os requisitos t√©cnicos, incluindo requisitos de seguran√ßa funcionais e n√£o funcionais. Planeje e negocie o or√ßamento cobrindo todo o projeto, constru√ß√£o, teste e opera√ß√£o, incluindo atividades de seguran√ßa.</p>
<h3 id="design-seguro">Design Seguro</h3>
<p>O design seguro √© uma cultura e metodologia que avalia constantemente as amea√ßas e garante que o c√≥digo seja desenvolvido e testado de forma robusta para evitar m√©todos de ataque conhecidos. A Modelagem de Amea√ßas deve ser integrada √†s sess√µes de refinamento (ou atividades semelhantes); procure por mudan√ßas nos fluxos de dados e controle de acesso ou outros controles de seguran√ßa. No desenvolvimento da hist√≥ria do usu√°rio, determine o fluxo correto e os estados de falha, certifique-se de que sejam bem compreendidos e aceitos pelas partes respons√°veis e afetadas. Analise suposi√ß√µes e condi√ß√µes para fluxos esperados e de falha, assegure-se de que eles ainda sejam precisos e desej√°veis. Determine como validar as suposi√ß√µes e fazer cumprir as condi√ß√µes necess√°rias para comportamentos adequados. Certifique-se de que os resultados sejam documentados na hist√≥ria do usu√°rio. Aprenda com os erros e ofere√ßa incentivos positivos para promover melhorias. O design seguro n√£o √© um  <em>add-on</em>  nem uma ferramenta que voc√™ pode adicionar ao software.</p>
<h3 id="ciclo-de-vida-de-desenvolvimento-seguro">Ciclo de Vida de Desenvolvimento Seguro</h3>
<p>O software seguro requer um ciclo de vida de desenvolvimento seguro, alguma forma de padr√£o de projeto seguro, metodologia de  <em>paved road</em>, bibliotecas de componentes protegidos, ferramentas e modelagem de amea√ßas. Procure seus especialistas em seguran√ßa no in√≠cio de um projeto de software, durante todo o projeto e durante a manuten√ß√£o de seu software. Considere aproveitar o  <a href="https://owaspsamm.org/">OWASP Software Assurance Maturity Model (SAMM)</a>  para ajudar a estruturar seus esfor√ßos de desenvolvimento de software seguro.</p>
<h2 id="como-prevenir">Como Prevenir</h2>
<ul>
<li>
<p>Estabele√ßa e use um ciclo de vida de desenvolvimento seguro com profissionais de AppSec para ajudar a avaliar e projetar controles relacionados √† seguran√ßa e privacidade.</p>
</li>
<li>
<p>Estabele√ßa e use bibliotecas de padr√µes de projeto seguros ou componentes de  <em>paved road</em>  prontos para usar.</p>
</li>
<li>
<p>Use Modelagem de Amea√ßas para autentica√ß√£o cr√≠tica, controle de acesso, l√≥gica de neg√≥cios e fluxos de chaves.</p>
</li>
<li>
<p>Integre a linguagem e os controles de seguran√ßa √†s hist√≥rias de usu√°rios.</p>
</li>
<li>
<p>Integre verifica√ß√µes de plausibilidade em cada camada da sua aplica√ß√£o (do front-end ao back-end).</p>
</li>
<li>
<p>Escreva testes de unidade e integra√ß√£o para validar se todos os fluxos cr√≠ticos s√£o resistentes ao modelo de amea√ßa. Compile casos de uso de sucesso e casos de uso indevido para cada camada da sua aplica√ß√£o.</p>
</li>
<li>
<p>Separe as camadas de n√≠vel no sistema e nas camadas de rede, dependendo das necessidades de exposi√ß√£o e prote√ß√£o.</p>
</li>
<li>
<p>Separe os  <em>tenants</em>  de maneira robusta por design em todas as camadas.</p>
</li>
<li>
<p>Limite o consumo de recursos por usu√°rio ou servi√ßo.</p>
</li>
</ul>
<h2 id="exemplos-de-cen%C3%A1rios-de-ataque">Exemplos de Cen√°rios de Ataque</h2>
<p><strong>Cen√°rio #1:</strong>  Um fluxo de trabalho de recupera√ß√£o de credencial pode incluir &quot;perguntas e respostas&quot; (confirma√ß√£o positiva), o que √© proibido pelo NIST 800-63b, o OWASP ASVS e o OWASP Top 10. Perguntas e respostas n√£o podem ser consideradas evid√™ncias de identidade, pois mais de uma pessoa pode saber as respostas, √© por isso que eles s√£o proibidos. Esse c√≥digo deve ser removido e substitu√≠do por um design mais seguro.</p>
<p><strong>Cen√°rio #2:</strong>  Uma rede de cinemas permite descontos para reservas de grupos e tem um m√°ximo de quinze participantes antes de exigir um dep√≥sito. Os invasores podem modelar esse fluxo e testar se conseguem reservar seiscentos lugares e todos os cinemas de uma s√≥ vez em algumas solicita√ß√µes, causando uma enorme perda de receita.</p>
<p><strong>Cen√°rio #3:</strong>  O site de com√©rcio eletr√¥nico de uma rede de varejo n√£o tem prote√ß√£o contra bots executados por cambistas que compram placas de v√≠deo de √∫ltima gera√ß√£o para revender sites de leil√£o. Isso cria uma publicidade terr√≠vel para os fabricantes de placas de v√≠deo e propriet√°rios de redes de varejo, al√©m de sofrer com os entusiastas que n√£o podem obter essas placas a qualquer pre√ßo. O design anti-bot cuidadoso e as regras de l√≥gica de dom√≠nio, como compras feitas dentro de alguns segundos de disponibilidade, podem identificar compras n√£o aut√™nticas e rejeitar tais transa√ß√µes.</p>
<h2 id="refer%C3%AAncias">Refer√™ncias</h2>
<ul>
<li>
<p><a href="https://cheatsheetseries.owasp.org/cheatsheets/Secure_Product_Design_Cheat_Sheet.html">OWASP Cheat Sheet: Secure Design Principles</a></p>
</li>
<li>
<p><a href="https://owaspsamm.org/model/design/security-architecture/">OWASP SAMM: Design:Security Architecture</a></p>
</li>
<li>
<p><a href="https://owaspsamm.org/model/design/threat-assessment/">OWASP SAMM: Design:Threat Assessment</a></p>
</li>
<li>
<p><a href="https://www.nist.gov/publications/guidelines-minimum-standards-developer-verification-software">NIST ‚Äì Guidelines on Minimum Standards for Developer Verification of Software</a></p>
</li>
<li>
<p><a href="https://threatmodelingmanifesto.org/">The Threat Modeling Manifesto</a></p>
</li>
<li>
<p><a href="https://github.com/hysnsec/awesome-threat-modelling">Awesome Threat Modeling</a></p>
</li>
</ul>
<h2 id="lista-dos-cwes-mapeados">Lista dos CWEs Mapeados</h2>
<p><a href="https://cwe.mitre.org/data/definitions/73.html">CWE-73 External Control of File Name or Path</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/183.html">CWE-183 Permissive List of Allowed Inputs</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/209.html">CWE-209 Generation of Error Message Containing Sensitive Information</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/213.html">CWE-213 Exposure of Sensitive Information Due to Incompatible Policies</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/235.html">CWE-235 Improper Handling of Extra Parameters</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/256.html">CWE-256 Unprotected Storage of Credentials</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/257.html">CWE-257 Storing Passwords in a Recoverable Format</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/266.html">CWE-266 Incorrect Privilege Assignment</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/269.html">CWE-269 Improper Privilege Management</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/280.html">CWE-280 Improper Handling of Insufficient Permissions or Privileges</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/311.html">CWE-311 Missing Encryption of Sensitive Data</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/312.html">CWE-312 Cleartext Storage of Sensitive Information</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/313.html">CWE-313 Cleartext Storage in a File or on Disk</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/316.html">CWE-316 Cleartext Storage of Sensitive Information in Memory</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/419.html">CWE-419 Unprotected Primary Channel</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/430.html">CWE-430 Deployment of Wrong Handler</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/434.html">CWE-434 Unrestricted Upload of File with Dangerous Type</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/444.html">CWE-444 Inconsistent Interpretation of HTTP Requests ('HTTP Request Smuggling')</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/451.html">CWE-451 User Interface (UI) Misrepresentation of Critical Information</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/472.html">CWE-472 External Control of Assumed-Immutable Web Parameter</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/501.html">CWE-501 Trust Boundary Violation</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/522.html">CWE-522 Insufficiently Protected Credentials</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/525.html">CWE-525 Use of Web Browser Cache Containing Sensitive Information</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/539.html">CWE-539 Use of Persistent Cookies Containing Sensitive Information</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/579.html">CWE-579 J2EE Bad Practices: Non-serializable Object Stored in Session</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/598.html">CWE-598 Use of GET Request Method With Sensitive Query Strings</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/602.html">CWE-602 Client-Side Enforcement of Server-Side Security</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/642.html">CWE-642 External Control of Critical State Data</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/646.html">CWE-646 Reliance on File Name or Extension of Externally-Supplied File</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/650.html">CWE-650 Trusting HTTP Permission Methods on the Server Side</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/653.html">CWE-653 Insufficient Compartmentalization</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/656.html">CWE-656 Reliance on Security Through Obscurity</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/657.html">CWE-657 Violation of Secure Design Principles</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/799.html">CWE-799 Improper Control of Interaction Frequency</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/807.html">CWE-807 Reliance on Untrusted Inputs in a Security Decision</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/840.html">CWE-840 Business Logic Errors</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/841.html">CWE-841 Improper Enforcement of Behavioral Workflow</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/927.html">CWE-927 Use of Implicit Intent for Sensitive Communication</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/1021.html">CWE-1021 Improper Restriction of Rendered UI Layers or Frames</a></p>
<p><a href="https://cwe.mitre.org/data/definitions/1173.html">CWE-1173 Improper Use of Validation Framework</a></p>
<h2 id="chatgpt">ChatGPT</h2>
<h3 id="q1">Q1</h3>
<blockquote>
<p>Fale soA04 Insecure Design do OWASP</p>
</blockquote>
<p>O <strong>OWASP A04:2021 ‚Äì Insecure Design</strong> (Design Inseguro) √© a quarta categoria da lista OWASP Top 10 de 2021, que trata das <strong>falhas de seguran√ßa resultantes de decis√µes inadequadas no design ou arquitetura de software</strong>, independentemente de erros de implementa√ß√£o posteriores.</p>
<h3 id="%F0%9F%A7%A0-o-que-%C3%A9-o-%22insecure-design%22">üß† O que √© o &quot;Insecure Design&quot;?</h3>
<p>√â quando um sistema √© constru√≠do sem considerar princ√≠pios de seguran√ßa desde o in√≠cio. N√£o se trata de bugs ou vulnerabilidades espec√≠ficas de c√≥digo, mas sim de <strong>decis√µes estruturais erradas</strong> que colocam a aplica√ß√£o em risco.</p>
<h4 id="exemplos">Exemplos:</h4>
<ul>
<li>Aus√™ncia de <strong>limites de taxa (rate limiting)</strong> em funcionalidades sens√≠veis como login ou APIs.</li>
<li>Projetos que n√£o separam <strong>fun√ß√µes cr√≠ticas</strong> (como administrativo e usu√°rio comum).</li>
<li>Fluxos que permitem <strong>ataques de for√ßa bruta ou scraping</strong> por n√£o terem prote√ß√µes suficientes.</li>
<li>Falta de <strong>modelagem de amea√ßas</strong> para identificar riscos nos fluxos de neg√≥cio.</li>
<li>Aplica√ß√µes que assumem que o front-end √© confi√°vel e n√£o validam regras de neg√≥cio no back-end.</li>
</ul>
<hr>
<h3 id="%E2%9A%A0%EF%B8%8F-consequ%C3%AAncias">‚ö†Ô∏è Consequ√™ncias</h3>
<p>Um design inseguro pode levar a:</p>
<ul>
<li><strong>Escalada de privil√©gios</strong></li>
<li><strong>Vazamento de dados sens√≠veis</strong></li>
<li><strong>Ataques automatizados (bots, scraping, brute force)</strong></li>
<li><strong>Abuso de funcionalidades leg√≠timas</strong></li>
</ul>
<hr>
<h3 id="%F0%9F%9B%A0%EF%B8%8F-como-prevenir">üõ†Ô∏è Como prevenir?</h3>
<ul>
<li><strong>Modelagem de amea√ßas</strong> desde as fases iniciais do projeto.</li>
<li><strong>Seguran√ßa por design</strong>: aplicar princ√≠pios como <em>least privilege</em>, <em>defense in depth</em>, <em>fail-safe defaults</em>.</li>
<li>Criar e aplicar <strong>testes de seguran√ßa em n√≠vel de arquitetura</strong>.</li>
<li>Simular abusos de l√≥gica de neg√≥cios e analisar os fluxos.</li>
<li>Ter documenta√ß√£o clara das <strong>regras de seguran√ßa do sistema</strong>.</li>
</ul>
<hr>
<h3 id="exemplo-pr%C3%A1tico">Exemplo pr√°tico</h3>
<p>Imagine uma aplica√ß√£o de transfer√™ncias banc√°rias que <strong>n√£o limita o n√∫mero de tentativas</strong> de envio por segundo. Mesmo que cada tentativa valide o saldo, um atacante pode automatizar milhares de requisi√ß√µes por segundo e causar problemas (como DDOS financeiro, uso indevido ou vazamento de informa√ß√µes). Isso √© falha de <strong>design inseguro</strong>, pois a arquitetura n√£o considerou esse risco desde o in√≠cio.</p>
<hr>
<p>Quer que eu aplique esse conceito a um caso espec√≠fico do seu projeto?</p>
<h3 id="q2">Q2</h3>
<blockquote>
<p>Pesquise na web e me informe exempls de casos de design insrguros</p>
</blockquote>
<p>Claro! A seguir, apresento exemplos reais e cen√°rios pr√°ticos que ilustram falhas de <strong>design inseguro</strong> (OWASP A04:2021 ‚Äì Insecure Design), demonstrando como decis√µes inadequadas na arquitetura de sistemas podem comprometer a seguran√ßa de aplica√ß√µes:</p>
<hr>
<h3 id="%F0%9F%94%90-exemplos-reais-de-design-inseguro">üîê Exemplos Reais de Design Inseguro</h3>
<h4 id="1-vazamento-de-dados-da-ashley-madison-2015">1. <strong>Vazamento de Dados da Ashley Madison (2015)</strong></h4>
<p>O site Ashley Madison, voltado para relacionamentos extraconjugais, sofreu um ataque que exp√¥s dados sens√≠veis de milh√µes de usu√°rios.</p>
<ul>
<li><strong>Falha de design</strong>: Armazenamento inadequado de informa√ß√µes sens√≠veis, como nomes reais e detalhes de pagamento, sem criptografia robusta ou pol√≠ticas de reten√ß√£o de dados adequadas.</li>
<li><strong>Consequ√™ncia</strong>: Exposi√ß√£o massiva de dados pessoais, resultando em danos √† reputa√ß√£o e processos legais. (<a href="https://brackish.io/owasp-top-ten-insecure-design/?utm_source=chatgpt.com" title="OWASP Top Ten - Insecure Design - Brackish Security">Brackish Security</a>)</li>
</ul>
<h4 id="2-vazamento-de-dados-da-equifax-2017">2. <strong>Vazamento de Dados da Equifax (2017)</strong></h4>
<p>A Equifax, uma das maiores ag√™ncias de cr√©dito dos EUA, teve informa√ß√µes pessoais de aproximadamente 147 milh√µes de pessoas comprometidas.</p>
<ul>
<li><strong>Falha de design</strong>: Aus√™ncia de mecanismos eficazes de monitoramento e atualiza√ß√£o, permitindo a explora√ß√£o de uma vulnerabilidade conhecida no Apache Struts.</li>
<li><strong>Consequ√™ncia</strong>: Perda de dados sens√≠veis, multas significativas e danos √† confian√ßa dos consumidores. (<a href="https://blog.codacy.com/insecure-design-owasp-top-10?utm_source=chatgpt.com" title="Insecure Design: A Complete Guide">blog.codacy.com</a>)</li>
</ul>
<h4 id="3-vulnerabilidade-heartbleed-no-openssl-2014">3. <strong>Vulnerabilidade Heartbleed no OpenSSL (2014)</strong></h4>
<p>Uma falha no OpenSSL permitia que atacantes lessem informa√ß√µes sens√≠veis da mem√≥ria de servidores.</p>
<ul>
<li><strong>Falha de design</strong>: Falta de valida√ß√£o adequada de entradas no processamento de solicita√ß√µes &quot;heartbeat&quot;, resultando em leitura indevida de mem√≥ria.</li>
<li><strong>Consequ√™ncia</strong>: Exposi√ß√£o de chaves privadas, senhas e outros dados cr√≠ticos. (<a href="https://www.codelivly.com/insecure-design/?utm_source=chatgpt.com" title="OWASP Top Ten: Insecure Design Vulnerabilities ‚Äì Codelivly">codelivly.com</a>, <a href="https://www.vumetric.com/blog/owasp-top-10-a04-insecure-design-everything-you-need-to-know/?utm_source=chatgpt.com" title="OWASP A04 Insecure Design: Risks, Examples, and Prevention - Vumetric">vumetric.com</a>, <a href="https://owasp.org/Top10/it/A04_2021-Insecure_Design/?utm_source=chatgpt.com" title="A04 Insecure Design - OWASP Top 10:2021">OWASP</a>)</li>
</ul>
<hr>
<h3 id="%F0%9F%A7%AA-cen%C3%A1rios-pr%C3%A1ticos-de-design-inseguro">üß™ Cen√°rios Pr√°ticos de Design Inseguro</h3>
<h4 id="4-recupera%C3%A7%C3%A3o-de-senha-com-perguntas-e-respostas">4. <strong>Recupera√ß√£o de Senha com Perguntas e Respostas</strong></h4>
<p>Implementar recupera√ß√£o de senha baseada em perguntas como &quot;Qual o nome do seu primeiro animal de estima√ß√£o?&quot; √© inseguro.</p>
<ul>
<li><strong>Falha de design</strong>: Essas perguntas s√£o facilmente descobertas ou adivinhadas, n√£o fornecendo autentica√ß√£o confi√°vel.</li>
<li><strong>Consequ√™ncia</strong>: Facilidade para atacantes resetarem senhas de usu√°rios leg√≠timos. </li>
</ul>
<h4 id="5-reserva-de-ingressos-sem-limites-adequados">5. <strong>Reserva de Ingressos sem Limites Adequados</strong></h4>
<p>Um sistema de reservas que permite m√∫ltiplas reservas sem verifica√ß√£o adequada pode ser explorado.</p>
<ul>
<li><strong>Falha de design</strong>: Aus√™ncia de limites de quantidade ou valida√ß√µes por usu√°rio.</li>
<li><strong>Consequ√™ncia</strong>: Atacantes podem reservar grandes quantidades de ingressos, causando perdas financeiras. </li>
</ul>
<h4 id="6-exposi%C3%A7%C3%A3o-de-dados-sens%C3%ADveis-via-urls">6. <strong>Exposi√ß√£o de Dados Sens√≠veis via URLs</strong></h4>
<p>Incluir informa√ß√µes sens√≠veis em par√¢metros de URL (m√©todo GET) pode levar √† exposi√ß√£o de dados.</p>
<ul>
<li><strong>Falha de design</strong>: Dados como logins ou tokens de sess√£o podem ser armazenados em logs de servidores ou hist√≥ricos de navegadores.</li>
<li><strong>Consequ√™ncia</strong>: Potencial vazamento de informa√ß√µes confidenciais. </li>
</ul>
<hr>
<h3 id="%E2%9C%85-boas-pr%C3%A1ticas-para-prevenir-design-inseguro">‚úÖ Boas Pr√°ticas para Prevenir Design Inseguro</h3>
<ul>
<li><strong>Modelagem de Amea√ßas</strong>: Identificar e mitigar riscos desde as fases iniciais do desenvolvimento.</li>
<li><strong>Princ√≠pios de Seguran√ßa</strong>: Aplicar conceitos como &quot;privil√©gio m√≠nimo&quot; e &quot;defesa em profundidade&quot;.</li>
<li><strong>Valida√ß√µes no Lado do Servidor</strong>: N√£o confiar apenas em valida√ß√µes do lado do cliente.</li>
<li><strong>Criptografia Adequada</strong>: Proteger dados sens√≠veis em repouso e em tr√¢nsito.</li>
<li><strong>Testes de Seguran√ßa</strong>: Realizar testes regulares para identificar e corrigir vulnerabilidades.(<a href="https://blog.codacy.com/insecure-design-owasp-top-10?utm_source=chatgpt.com" title="Insecure Design: A Complete Guide">blog.codacy.com</a>)</li>
</ul>
<p>Se desejar, posso ajudar a analisar o design de um sistema espec√≠fico ou fornecer orienta√ß√µes para fortalecer a seguran√ßa de sua aplica√ß√£o.</p>
<h2 id="perplexity">Perplexity</h2>
<img src="https://r2cdn.perplexity.ai/pplx-full-logo-primary-dark%402x.png" class="logo" width="120"/>
<h1 id="a04-design-inseguro---conceito-e-exemplos-em-aplica%C3%A7%C3%B5es-web">A04: Design Inseguro - Conceito e Exemplos em Aplica√ß√µes Web</h1>
<p>O Design Inseguro representa uma nova e importante categoria introduzida na lista OWASP Top 10 de 2021, focando nos problemas fundamentais de seguran√ßa que ocorrem na fase de arquitetura e planejamento de sistemas, antes mesmo da implementa√ß√£o do c√≥digo.</p>
<h2 id="o-que-%C3%A9-design-inseguro">O que √© Design Inseguro</h2>
<p>Design Inseguro ocorre quando a seguran√ßa n√£o √© considerada desde o in√≠cio do processo de desenvolvimento de software. Esta categoria se concentra nas falhas de design e nos riscos associados a essas falhas, diferente dos problemas de implementa√ß√£o que frequentemente se encaixam em outras categorias de seguran√ßa<a href="https://www.youtube.com/watch?v=bbmplrUG5Nc">^15</a>. A OWASP introduziu esta categoria visando promover princ√≠pios de design mais seguros e consistentes, padr√µes e arquiteturas de refer√™ncia que garantam a estabilidade e seguran√ßa dos dados em aplica√ß√µes web<a href="https://www.youtube.com/watch?v=bbmplrUG5Nc">^15</a>.</p>
<p>O Design Inseguro acontece quando a seguran√ßa n√£o √© parte integrante do processo de planejamento, resultando em falhas que se tornam dif√≠ceis de corrigir posteriormente no ciclo de desenvolvimento<a href="https://xygeni.io/pt/blog/owasp-top-10-and-their-remedies/">^16</a>. Este tipo de vulnerabilidade √© particularmente preocupante porque, mesmo com uma implementa√ß√£o tecnicamente perfeita, um sistema baseado em um design inseguro continuar√° vulner√°vel a ataques.</p>
<h3 id="como-o-design-inseguro-difere-de-outras-falhas-de-seguran%C3%A7a">Como o Design Inseguro difere de outras falhas de seguran√ßa</h3>
<p>Enquanto muitas categorias do OWASP Top 10 focam em vulnerabilidades t√©cnicas espec√≠ficas (como inje√ß√£o ou falhas criptogr√°ficas), o Design Inseguro aborda a seguran√ßa de forma mais hol√≠stica<a href="https://www.youtube.com/watch?v=bbmplrUG5Nc">^15</a>. Essa categoria visa encontrar e corrigir falhas fundamentais na arquitetura e no design do sistema, em vez de problemas na implementa√ß√£o do c√≥digo. Um sistema pode ter um c√≥digo perfeitamente escrito, sem vulnerabilidades tradicionais, mas ainda assim ser fundamentalmente inseguro devido a decis√µes de design inadequadas.</p>
<h2 id="exemplos-de-design-inseguro-em-aplica%C3%A7%C3%B5es-web">Exemplos de Design Inseguro em Aplica√ß√µes Web</h2>
<h3 id="1-limita%C3%A7%C3%A3o-de-taxa-ineficaz">1. Limita√ß√£o de Taxa Ineficaz</h3>
<p>Um exemplo not√°vel ocorreu no Facebook no in√≠cio de 2021, quando um grande volume de dados pessoais foi vazado. Este incidente foi causado por limites de taxa e limites de dados ineficazes implementados pela plataforma, que permitiram acesso excessivo aos dados usando ferramentas automatizadas<a href="https://www.estrategiaconcursos.com.br/blog/10-riscos-seguranca-web-owasp/">^14</a>. Esse problema de design facilita t√©cnicas de &quot;scraping&quot; em massa, onde atacantes podem extrair quantidades enormes de dados sem serem detectados ou bloqueados.</p>
<h3 id="2-falta-de-prote%C3%A7%C3%A3o-contra-bots-em-e-commerce">2. Falta de Prote√ß√£o Contra Bots em E-commerce</h3>
<p>Um exemplo comum √© o de sites de com√©rcio eletr√¥nico de redes de varejo que n√£o possuem prote√ß√£o contra bots executados por atacantes<a href="https://www.dio.me/articles/owasp-principais-vulnerabilidades-e-remediacoes-mapeadas">^18</a>. Isso permite que os invasores realizem compras automatizadas de produtos em alta demanda (como ingressos para eventos, t√™nis de edi√ß√£o limitada ou consoles de videogame), esgotando o estoque antes que clientes leg√≠timos possam fazer suas compras. Este √© um problema de design porque o sistema foi concebido sem considerar este cen√°rio de ataque.</p>
<h3 id="3-arquitetura-de-aplica%C3%A7%C3%A3o-sem-segrega%C3%A7%C3%A3o-de-dados">3. Arquitetura de Aplica√ß√£o Sem Segrega√ß√£o de Dados</h3>
<p>Uma aplica√ß√£o web que armazena dados sens√≠veis (como informa√ß√µes de pagamento) no mesmo banco de dados que informa√ß√µes menos cr√≠ticas, sem a devida segrega√ß√£o, apresenta um design inseguro. Se um invasor conseguir acesso ao banco de dados atrav√©s de qualquer vulnerabilidade, ele ter√° acesso a todos os dados, incluindo os mais sens√≠veis.</p>
<h3 id="4-falha-na-modelagem-de-amea%C3%A7as">4. Falha na Modelagem de Amea√ßas</h3>
<p>Sistemas que s√£o desenvolvidos sem um processo formal de modelagem de amea√ßas frequentemente falham em considerar cen√°rios de ataque cr√≠ticos. Por exemplo, uma aplica√ß√£o de sa√∫de que n√£o considera os riscos associados √† exposi√ß√£o de dados de pacientes pode ser projetada sem os controles de acesso granulares necess√°rios, resultando em potenciais viola√ß√µes de privacidade.</p>
<h3 id="5-processos-de-recupera%C3%A7%C3%A3o-de-conta-mal-projetados">5. Processos de Recupera√ß√£o de Conta Mal Projetados</h3>
<p>Sistemas de recupera√ß√£o de senha que dependem apenas de informa√ß√µes facilmente descobertas (como &quot;qual √© o nome do seu pet?&quot;) representam um design inseguro. Este tipo de falha permitiu, em casos famosos, que contas de celebridades e figuras p√∫blicas fossem comprometidas atrav√©s de engenharia social simples.</p>
<h2 id="como-prevenir-o-design-inseguro">Como Prevenir o Design Inseguro</h2>
<p>Para mitigar os riscos associados ao design inseguro, recomenda-se:</p>
<ol>
<li>Incorporar modelagem de amea√ßas e princ√≠pios de &quot;secure-by-design&quot; desde o in√≠cio do desenvolvimento<a href="https://xygeni.io/pt/blog/owasp-top-10-and-their-remedies/">^16</a>.</li>
<li>Utilizar ciclos de vida de desenvolvimento seguro (SDL) que incluam revis√µes regulares de seguran√ßa durante todas as fases do projeto<a href="https://www.estrategiaconcursos.com.br/blog/10-riscos-seguranca-web-owasp/">^14</a>.</li>
<li>Implementar padr√µes de design seguros e arquiteturas de refer√™ncia que j√° considerem potenciais amea√ßas<a href="https://www.youtube.com/watch?v=bbmplrUG5Nc">^15</a>.</li>
<li>Revisar regularmente o design do sistema para identificar potenciais vulnerabilidades antes que se tornem problemas s√©rios<a href="https://xygeni.io/pt/blog/owasp-top-10-and-their-remedies/">^16</a>.</li>
<li>Utilizar ferramentas de Application Security Posture Management (ASPM) para identificar falhas de design em est√°gios iniciais<a href="https://xygeni.io/pt/blog/owasp-top-10-and-their-remedies/">^16</a>.</li>
<li>Implementar limites de taxa e monitoramento de comportamento para detectar padr√µes de uso an√¥malos que possam indicar tentativas de abuso.</li>
</ol>
<h2 id="conclus%C3%A3o">Conclus√£o</h2>
<p>O Design Inseguro representa uma abordagem fundamentalmente falha no desenvolvimento de software, onde os aspectos de seguran√ßa n√£o s√£o considerados desde a concep√ß√£o do sistema. Diferente de outras vulnerabilidades que podem ser corrigidas com patches ou atualiza√ß√µes de c√≥digo, os problemas de design inseguro frequentemente exigem reestrutura√ß√µes significativas ou redesenho completo de sistemas.</p>
<p>Para desenvolvedores e organiza√ß√µes, √© crucial adotar uma mentalidade de &quot;security by design&quot;, onde a seguran√ßa √© uma considera√ß√£o prim√°ria desde os est√°gios iniciais de planejamento. Implementar modelagem de amea√ßas, arquiteturas de refer√™ncia seguras e revis√µes regulares de design pode ajudar a evitar as armadilhas associadas ao design inseguro, resultando em aplica√ß√µes web mais robustas e resistentes a ataques.</p>
<div style="text-align: center">‚ÅÇ</div>

</body>
</html>
